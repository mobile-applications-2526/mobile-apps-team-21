# Login Success Test
# Tests successful login with valid credentials
# 
# Test User (from DatabaseSeeder):
# - Email: john.smith@example.com
# - Password: password123

appId: com.eatup.frontend
---
# Clear app state and launch fresh
- launchApp:
    clearState: true

# Wait for login screen to appear
- assertVisible: "Welcome back!"
- assertVisible: "Eat Up"

# Verify form elements are visible
- assertVisible:
    id: "login-email-input"
- assertVisible:
    id: "login-password-input"
- assertVisible:
    id: "login-button"

# Enter email
- tapOn:
    id: "login-email-input"
- inputText: ${TEST_USER_EMAIL}

# Enter password
- tapOn:
    id: "login-password-input"
- inputText: ${TEST_USER_PASSWORD}

# Hide keyboard
- hideKeyboard

# Tap login button
- tapOn:
    id: "login-button"

# Wait for navigation to tabs (success indicator)
- assertVisible:
    text: "Chats"
    optional: false
- assertVisible:
    text: "Discover"
- assertVisible:
    text: "Profile"

# Take screenshot for verification
- takeScreenshot: login-success-result
